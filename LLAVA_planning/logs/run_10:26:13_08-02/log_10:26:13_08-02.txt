[2026-02-08 10:26:13] Run directory created at logs/run_10:26:13_08-02
[2026-02-08 10:26:13] Environment initialized with agent at (5.0, 3.0) and goal at (4.0, 10.0)
[2026-02-08 10:26:14] Starting navigation from [5.0, 3.0] to goal at [4.0, 10.0]
[2026-02-08 10:26:14] Scan step begin at [5.0, 3.0]
[2026-02-08 10:26:14] Starting LIDAR scan at position [5.0, 3.0]
[2026-02-08 10:26:14] Ray 180.0° hit at [4.0, 3.0]
[2026-02-08 10:26:14] Ray 270.0° hit at [5.0, 2.0]
[2026-02-08 10:26:14] LIDAR scan completed.
[2026-02-08 10:26:14] LIDAR detected 2 obstacle hits: [[4.0, 3.0], [5.0, 2.0]]
[2026-02-08 10:26:14] Scan step end: obstacle_detected=True
[2026-02-08 10:26:14] Obstacle detected near [4.0, 3.0] (from LIDAR hits) — querying for batch detour waypoints
[2026-02-08 10:26:14] ===== DETOUR TRIGGERED =====
[2026-02-08 10:26:14] Agent position: [5.0, 3.0]
[2026-02-08 10:26:14] Goal position: [4.0, 10.0]
[2026-02-08 10:26:14] Starting LIDAR scan at position [5.0, 3.0]
[2026-02-08 10:26:14] Ray 180.0° hit at [4.0, 3.0]
[2026-02-08 10:26:14] Ray 270.0° hit at [5.0, 2.0]
[2026-02-08 10:26:14] LIDAR scan completed.
[2026-02-08 10:26:14] LIDAR detected 2 obstacle hits: [[4.0, 3.0], [5.0, 2.0]]
[2026-02-08 10:26:14] LIDAR hit count: 2
[2026-02-08 10:26:14] LIDAR hit points: [[4.0, 3.0], [5.0, 2.0]]
[2026-02-08 10:26:14] VLM snapshot saved at: logs/run_10:26:13_08-02/vlm_snapshot_10:26:13_08-02_001.png
[2026-02-08 10:26:14] Querying VLM model: gpt-4o
[2026-02-08 10:26:14] Calling VLM for detour (attempt 1)
[2026-02-08 10:26:16] VLM returned 4 waypoints: [[6.0, 3.5], [6.5, 4.5], [5.5, 5.5], [5.0, 6.5]]
[2026-02-08 10:26:16] Accept WP1: [6.0, 3.5]
[2026-02-08 10:26:16] Accept WP2: [6.5, 4.5]
[2026-02-08 10:26:16] Reject WP3: segment [6.5, 4.5] -> [5.5, 5.5] intersects original obstacle interior
[2026-02-08 10:26:16] Reject WP4: segment [6.5, 4.5] -> [5.0, 6.5] intersects original obstacle interior
[2026-02-08 10:26:16] Detour validation result: SUCCESS (2 waypoints accepted)
[2026-02-08 10:26:16] Added 2 detour waypoints to live heatmap (yellow markers).
[2026-02-08 10:26:16] ===== DETOUR END =====
[2026-02-08 10:26:16] Moving to waypoint [6.0, 3.5]
[2026-02-08 10:26:16] Starting LIDAR scan at position [5.0, 3.0]
[2026-02-08 10:26:16] Ray 180.0° hit at [4.0, 3.0]
[2026-02-08 10:26:16] Ray 270.0° hit at [5.0, 2.0]
[2026-02-08 10:26:16] LIDAR scan completed.
[2026-02-08 10:26:16] Scan step begin at [5.05, 3.05]
[2026-02-08 10:26:16] Starting LIDAR scan at position [5.05, 3.05]
[2026-02-08 10:26:16] LIDAR scan completed.
[2026-02-08 10:26:16] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:16] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Goal visible during detour step; switching to straight navigation
[2026-02-08 10:26:17] Could not reach waypoint [6.0, 3.5] — controller stop.
[2026-02-08 10:26:17] Moving to waypoint [6.5, 4.5]
[2026-02-08 10:26:17] Starting LIDAR scan at position [5.05, 3.05]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] Scan step begin at [5.1, 3.0999999999999996]
[2026-02-08 10:26:17] Starting LIDAR scan at position [5.1, 3.0999999999999996]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:17] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Goal visible during detour step; switching to straight navigation
[2026-02-08 10:26:17] Could not reach waypoint [6.5, 4.5] — controller stop.
[2026-02-08 10:26:17] Scan step begin at [5.1, 3.0999999999999996]
[2026-02-08 10:26:17] Starting LIDAR scan at position [5.1, 3.0999999999999996]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:17] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Scan step begin at [5.05, 3.1499999999999995]
[2026-02-08 10:26:17] Starting LIDAR scan at position [5.05, 3.1499999999999995]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:17] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Scan step begin at [5.0, 3.1999999999999993]
[2026-02-08 10:26:17] Starting LIDAR scan at position [5.0, 3.1999999999999993]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:17] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Scan step begin at [4.95, 3.249999999999999]
[2026-02-08 10:26:17] Starting LIDAR scan at position [4.95, 3.249999999999999]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 0 obstacle hits: []
[2026-02-08 10:26:17] Scan step end: obstacle_detected=False
[2026-02-08 10:26:17] Scan step begin at [4.9, 3.299999999999999]
[2026-02-08 10:26:17] Starting LIDAR scan at position [4.9, 3.299999999999999]
[2026-02-08 10:26:17] Ray 200.0° hit at [4.0, 2.972426789160417]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 1 obstacle hits: [[4.0, 2.972]]
[2026-02-08 10:26:17] Scan step end: obstacle_detected=True
[2026-02-08 10:26:17] Obstacle detected near [4.0, 2.97] (from LIDAR hits) — querying for batch detour waypoints
[2026-02-08 10:26:17] ===== DETOUR TRIGGERED =====
[2026-02-08 10:26:17] Agent position: [4.9, 3.299999999999999]
[2026-02-08 10:26:17] Goal position: [4.0, 10.0]
[2026-02-08 10:26:17] Starting LIDAR scan at position [4.9, 3.299999999999999]
[2026-02-08 10:26:17] Ray 200.0° hit at [4.0, 2.972426789160417]
[2026-02-08 10:26:17] LIDAR scan completed.
[2026-02-08 10:26:17] LIDAR detected 1 obstacle hits: [[4.0, 2.972]]
[2026-02-08 10:26:17] LIDAR hit count: 1
[2026-02-08 10:26:17] LIDAR hit points: [[4.0, 2.972]]
[2026-02-08 10:26:18] VLM snapshot saved at: logs/run_10:26:13_08-02/vlm_snapshot_10:26:13_08-02_002.png
[2026-02-08 10:26:18] Querying VLM model: gpt-4o
[2026-02-08 10:26:18] Calling VLM for detour (attempt 1)
